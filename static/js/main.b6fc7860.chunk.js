(this["webpackJsonprand-note"]=this["webpackJsonprand-note"]||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a,s=n(2),r=n.n(s),i=n(5),c=n.n(i),o=n(3),l=n(1),h=n(6),u=n(7),p=n(9),d=n(8),S=(n(14),{naturalsOnly:!0,allowRepeats:!1,distinctSharpsAndFlats:!0});!function(t){t[t.A=0]="A",t[t.ASharp=1]="ASharp",t[t.BFlat=2]="BFlat",t[t.B=3]="B",t[t.C=4]="C",t[t.CSharp=5]="CSharp",t[t.DFlat=6]="DFlat",t[t.D=7]="D",t[t.DSharp=8]="DSharp",t[t.EFlat=9]="EFlat",t[t.E=10]="E",t[t.F=11]="F",t[t.FSharp=12]="FSharp",t[t.GFlat=13]="GFlat",t[t.G=14]="G",t[t.GSharp=15]="GSharp",t[t.AFlat=16]="AFlat"}(a||(a={}));var g,f,F,C=[a.A,a.ASharp,a.BFlat,a.B,a.C,a.CSharp,a.DFlat,a.D,a.DSharp,a.EFlat,a.E,a.F,a.FSharp,a.GFlat,a.G,a.GSharp,a.AFlat];function b(t){switch(t){case a.A:case a.B:case a.C:case a.D:case a.E:case a.F:case a.G:return f.None;case a.ASharp:case a.CSharp:case a.DSharp:case a.FSharp:case a.GSharp:return f.Sharp;case a.AFlat:case a.BFlat:case a.DFlat:case a.EFlat:case a.GFlat:return f.Flat}}function v(t){switch(t){case a.AFlat:return a.GSharp;case a.ASharp:return a.BFlat;case a.BFlat:return a.ASharp;case a.CSharp:return a.DFlat;case a.DFlat:return a.CSharp;case a.DSharp:return a.EFlat;case a.EFlat:return a.DSharp;case a.FSharp:return a.GFlat;case a.GFlat:return a.FSharp;case a.GSharp:return a.ASharp;case a.A:case a.B:case a.C:case a.D:case a.E:case a.F:case a.G:return t}}function y(t,e){var n=v(t);return n===t||e?j(t):j(t)+"/"+j(n)}function j(t){return e=function(t){switch(t){case a.A:case a.ASharp:case a.AFlat:return g.A;case a.B:case a.BFlat:return g.B;case a.C:case a.CSharp:return g.C;case a.DFlat:case a.D:case a.DSharp:return g.D;case a.EFlat:case a.E:return g.E;case a.F:case a.FSharp:return g.F;case a.GFlat:case a.G:case a.GSharp:return g.G}}(t),g[e]+function(t){switch(t){case f.None:return"";case f.Sharp:return"\u266f";case f.Flat:return"\u266d"}}(b(t));var e}function k(t,e){var n,a=O(t,e);return 0===(n=a).length?void 0:n[Math.floor(Math.random()*n.length)]}function O(t,e){var n=C.slice();return e.naturalsOnly&&(n=n.filter((function(t){return b(t)===f.None}))),e.allowRepeats?n:n=e.distinctSharpsAndFlats?n.filter((function(e){return!t.includes(e)})):n.filter((function(e){return!t.includes(e)&&!t.includes(v(e))}))}function A(){var t,e=localStorage.getItem(F.Settings);if(null===e)return S;try{var n=JSON.parse(e);if("object"===typeof(t=n)&&null!==t&&"boolean"===typeof t.naturalsOnly&&"boolean"===typeof t.allowRepeats&&"boolean"===typeof t.distinctSharpsAndFlats)return n}catch(a){}return S}function w(){var t,e=localStorage.getItem(F.NoteHistory);if(null===e)return[];try{var n=JSON.parse(e);if(t=n,Array.isArray(t)&&t.every(N))return n}catch(a){}return[]}function N(t){return"number"===typeof a[t]}function D(t){var e=JSON.stringify(t);localStorage.setItem(F.NoteHistory,e)}!function(t){t[t.A=0]="A",t[t.B=1]="B",t[t.C=2]="C",t[t.D=3]="D",t[t.E=4]="E",t[t.F=5]="F",t[t.G=6]="G"}(g||(g={})),function(t){t[t.None=0]="None",t[t.Sharp=1]="Sharp",t[t.Flat=2]="Flat"}(f||(f={})),function(t){t.Settings="RandNote.Settings",t.NoteHistory="RandNote.NoteHistory"}(F||(F={}));var x=n(0),G=function(t){Object(p.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={isSettingsOpen:!1,settings:A(),history:w()},a.bindMethods(),a}return Object(u.a)(n,[{key:"bindMethods",value:function(){this.onCloseSettingsClick=this.onCloseSettingsClick.bind(this),this.onNaturalsOnlyChange=this.onNaturalsOnlyChange.bind(this),this.onAllowRepeatsChange=this.onAllowRepeatsChange.bind(this),this.onDistinctSharpsAndFlatsChange=this.onDistinctSharpsAndFlatsChange.bind(this),this.onOpenSettingsClick=this.onOpenSettingsClick.bind(this),this.onClearHistoryClick=this.onClearHistoryClick.bind(this),this.onNoteScreenClick=this.onNoteScreenClick.bind(this)}},{key:"render",value:function(){return this.state.isSettingsOpen?this.renderSettingsPage():this.renderNotePage()}},{key:"renderSettingsPage",value:function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("section",{children:Object(x.jsx)("button",{onClick:this.onCloseSettingsClick,children:"Close"})}),Object(x.jsxs)("section",{children:[Object(x.jsxs)("label",{children:["Naturals only:"," ",Object(x.jsx)("input",{type:"checkbox",checked:this.state.settings.naturalsOnly,onChange:this.onNaturalsOnlyChange})]}),Object(x.jsxs)("label",{children:["Allow repeats:"," ",Object(x.jsx)("input",{type:"checkbox",checked:this.state.settings.allowRepeats,onChange:this.onAllowRepeatsChange})]}),Object(x.jsxs)("label",{children:["Distinct sharps and flats:"," ",Object(x.jsx)("input",{type:"checkbox",checked:this.state.settings.distinctSharpsAndFlats,onChange:this.onDistinctSharpsAndFlatsChange})]})]})]})}},{key:"onCloseSettingsClick",value:function(){this.setState({isSettingsOpen:!1})}},{key:"onNaturalsOnlyChange",value:function(t){this.updateSetting("naturalsOnly",t.target.checked)}},{key:"onAllowRepeatsChange",value:function(t){this.updateSetting("allowRepeats",t.target.checked)}},{key:"onDistinctSharpsAndFlatsChange",value:function(t){this.updateSetting("distinctSharpsAndFlats",t.target.checked)}},{key:"updateSetting",value:function(t,e){this.setState((function(n){var a=Object(l.a)(Object(l.a)({},n.settings),{},Object(o.a)({},t,e));return function(t){var e=JSON.stringify(t);localStorage.setItem(F.Settings,e)}(a),Object(l.a)(Object(l.a)({},n),{},{settings:a})}))}},{key:"renderNotePage",value:function(){var t=this.state.history[this.state.history.length-1],e=this.state.settings.distinctSharpsAndFlats;return Object(x.jsxs)("div",{className:"App"+(0===O(this.state.history,this.state.settings).length?" LastNote":""),onClick:this.onNoteScreenClick,children:[Object(x.jsxs)("section",{children:[Object(x.jsx)("button",{onClick:this.onOpenSettingsClick,children:"Settings"}),Object(x.jsx)("button",{onClick:this.onClearHistoryClick,children:"Reset"})]}),Object(x.jsxs)("section",{children:[Object(x.jsx)("h2",{children:"Current note"}),void 0!==t&&Object(x.jsx)("div",{className:"CurrentNote",children:y(t,e)})]}),Object(x.jsx)("section",{children:this.state.history.map((function(t){return Object(x.jsx)("div",{className:"HistoryNote",children:y(t,e)})}))})]})}},{key:"onOpenSettingsClick",value:function(){this.setState({isSettingsOpen:!0})}},{key:"onClearHistoryClick",value:function(){this.setState({history:[]}),D([])}},{key:"onNoteScreenClick",value:function(t){t.target instanceof HTMLButtonElement||this.setState((function(t){var e=k(t.history,t.settings),n=void 0===e?t.history:t.history.concat([e]);return D(n),Object(l.a)(Object(l.a)({},t),{},{history:n})}))}}]),n}(r.a.Component),m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),r(t),i(t)}))};c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(G,{})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");m?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):B(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):B(e,t)}))}}(),E()}},[[16,1,2]]]);
//# sourceMappingURL=main.b6fc7860.chunk.js.map